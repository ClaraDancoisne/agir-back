import { DifficultyLevel } from '../src/domain/difficultyLevel';
import { InteractionType } from '../src/domain/interaction/interactionType';
import { Thematique } from '../src/domain/thematique';
import {
  Impact,
  Thematique as ThemaOnbo,
} from '../src/domain/utilisateur/onboarding/onboarding';
import { v4 as uuidv4 } from 'uuid';
import { LiveService } from '../src/domain/service/serviceDefinition';

const minQuizzLevel = {
  alimentation: { level: 1, isCompleted: false },
  transport: { level: 1, isCompleted: false },
  logement: { level: 1, isCompleted: false },
  consommation: { level: 1, isCompleted: false },
  climat: { level: 1, isCompleted: false },
  dechet: { level: 1, isCompleted: false },
  loisir: { level: 1, isCompleted: false },
};

const ALL_INTERACTIONS = [
  { cms_id: 2, cms_type: 'quizz', score: 0.5 },
  { cms_id: 4, cms_type: 'quizz', score: 0.5 },
  { cms_id: 5, cms_type: 'quizz', score: 0.5 },
  { cms_id: 6, cms_type: 'quizz', score: 0.5 },
  { cms_id: 7, cms_type: 'quizz', score: 0.5 },
  { cms_id: 8, cms_type: 'quizz', score: 0.5 },
  { cms_id: 9, cms_type: 'quizz', score: 0.5 },
  { cms_id: 10, cms_type: 'quizz', score: 0.5 },
  { cms_id: 11, cms_type: 'quizz', score: 0.5 },
  { cms_id: 12, cms_type: 'quizz', score: 0.5 },
  { cms_id: 13, cms_type: 'quizz', score: 0.5 },
  { cms_id: 14, cms_type: 'quizz', score: 0.5 },
  { cms_id: 15, cms_type: 'quizz', score: 0.5 },
  { cms_id: 16, cms_type: 'quizz', score: 0.5 },
  { cms_id: 17, cms_type: 'quizz', score: 0.5 },
  { cms_id: 18, cms_type: 'quizz', score: 0.5 },
  { cms_id: 19, cms_type: 'quizz', score: 0.5 },
  { cms_id: 20, cms_type: 'quizz', score: 0.5 },
  { cms_id: 21, cms_type: 'quizz', score: 0.5 },

  { cms_id: 2, cms_type: 'article', score: 0.5 },
  { cms_id: 3, cms_type: 'article', score: 0.5 },
  { cms_id: 4, cms_type: 'article', score: 0.5 },
  { cms_id: 5, cms_type: 'article', score: 0.5 },
  { cms_id: 6, cms_type: 'article', score: 0.5 },
  { cms_id: 11, cms_type: 'article', score: 0.5 },
  { cms_id: 12, cms_type: 'article', score: 0.5 },
  { cms_id: 13, cms_type: 'article', score: 0.5 },
  { cms_id: 14, cms_type: 'article', score: 0.5 },
  { cms_id: 15, cms_type: 'article', score: 0.5 },
  { cms_id: 16, cms_type: 'article', score: 0.5 },
  { cms_id: 17, cms_type: 'article', score: 0.5 },
  { cms_id: 18, cms_type: 'article', score: 0.5 },
  { cms_id: 19, cms_type: 'article', score: 0.5 },
  { cms_id: 20, cms_type: 'article', score: 0.5 },
  { cms_id: 21, cms_type: 'article', score: 0.5 },
  { cms_id: 22, cms_type: 'article', score: 0.5 },
  { cms_id: 23, cms_type: 'article', score: 0.5 },
  { cms_id: 24, cms_type: 'article', score: 0.5 },
  { cms_id: 25, cms_type: 'article', score: 0.5 },
  { cms_id: 26, cms_type: 'article', score: 0.5 },
  { cms_id: 27, cms_type: 'article', score: 0.5 },
  { cms_id: 28, cms_type: 'article', score: 0.5 },
  { cms_id: 29, cms_type: 'article', score: 0.5 },
  { cms_id: 30, cms_type: 'article', score: 0.5 },
];

const ONBOARD_DATA_1234 = {
  transports: ['voiture', 'pied'],
  avion: 2,
  code_postal: '91120',
  adultes: 2,
  enfants: 1,
  residence: 'maison',
  proprietaire: true,
  superficie: 'superficie_70',
  chauffage: 'gaz',
  repas: 'vegan',
  consommation: 'secondemain',
};

const ONBOARDING_RES_1234 = {
  ventilation_par_thematiques: {
    alimentation: Impact.tres_faible,
    transports: Impact.tres_eleve,
    logement: Impact.eleve,
    consommation: Impact.faible,
  },
  ventilation_par_impacts: {
    '1': [ThemaOnbo.alimentation],
    '2': [ThemaOnbo.consommation],
    '3': [ThemaOnbo.logement],
    '4': [ThemaOnbo.transports],
  },
};

const utilisateurs = {
  experimental: {
    nom: 'Erimental',
    prenom: 'Exp',
    email: 'exp@agir.dev',
    mot_de_passe: 'hoho',
    code_postal: '49100',
    commune: 'ANGERS',
    revenu_fiscal: null,
    parts: null,
    version: 2,
    gamification: {
      points: 0,
    },
    unlocked_features: {
      unlocked_feature_list: ['aides', 'services', 'recommandations'],
    },
    todo: {
      todo_active: 0,
      liste_todo: [
        {
          numero_todo: 1,
          points_todo: 30,
          titre: 'Votre 1ère mission',
          done_at: null,
          done: [
            {
              id: uuidv4(),
              titre: `Faire le bilan simplifié de vos impacts`,
              thematiques: [],
              progression: { current: 1, target: 1 },
              sont_points_en_poche: false,
              type: InteractionType.onboarding,
              level: null,
              points: 10,
            },
          ],
          todo: [
            {
              id: uuidv4(),
              titre: 'Nous en dire plus sur vous',
              thematiques: [Thematique.climat],
              progression: { current: 0, target: 1 },
              sont_points_en_poche: false,
              type: InteractionType.kyc,
              points: 20,
              content_id: '1',
            },
            {
              id: uuidv4(),
              titre: 'Une reco à voir !',
              thematiques: [Thematique.climat],
              progression: { current: 0, target: 1 },
              sont_points_en_poche: false,
              type: InteractionType.recommandations,
              level: DifficultyLevel.L1,
              points: 50,
            },
          ],
        },
        {
          numero_todo: 2,
          points_todo: 30,
          titre: 'Mission 2',
          done_at: null,
          done: [],
          todo: [
            {
              id: uuidv4(),
              titre: 'Réussir 2 quiz Climat - très facile',
              thematiques: [Thematique.climat],
              progression: { current: 1, target: 2 },
              sont_points_en_poche: false,
              type: InteractionType.quizz,
              level: DifficultyLevel.L1,
              points: 20,
            },
            {
              id: uuidv4(),
              titre: 'Lire un article Transports - très facile',
              thematiques: [Thematique.transport],
              progression: { current: 0, target: 1 },
              sont_points_en_poche: false,
              type: InteractionType.article,
              level: DifficultyLevel.L1,
              points: 20,
            },
          ],
        },
        {
          numero_todo: 3,
          points_todo: 30,
          titre: 'Mission 3',
          done_at: null,
          done: [],
          todo: [
            {
              id: uuidv4(),
              titre: `Réussir 2 quiz Transports - très facile`,
              thematiques: [Thematique.transport],
              progression: { current: 0, target: 2 },
              sont_points_en_poche: false,
              type: InteractionType.quizz,
              level: DifficultyLevel.L1,
              points: 20,
            },
            {
              id: uuidv4(),
              titre: 'Lire un article Alimentation - très facile',
              thematiques: [Thematique.alimentation],
              progression: { current: 0, target: 1 },
              sont_points_en_poche: false,
              type: InteractionType.article,
              level: DifficultyLevel.L1,
              points: 20,
            },
          ],
        },
        {
          numero_todo: 4,
          points_todo: 30,
          titre: 'Mission 4',
          done_at: null,
          done: [],
          todo: [
            {
              id: uuidv4(),
              titre: `Installer "Fruits et légumes de saison"`,
              thematiques: [Thematique.alimentation],
              progression: { current: 0, target: 1 },
              service_id: LiveService.fruits,
              sont_points_en_poche: false,
              type: InteractionType.service,
              points: 20,
              level: DifficultyLevel.ANY,
            },
            {
              id: uuidv4(),
              titre: `Réussir 3 quiz Logement - très facile`,
              thematiques: [Thematique.logement],
              progression: { current: 0, target: 3 },
              sont_points_en_poche: false,
              type: InteractionType.quizz,
              level: DifficultyLevel.L1,
              points: 20,
            },
          ],
        },
        {
          numero_todo: 5,
          points_todo: 30,
          titre: 'Mission 5',
          done_at: null,
          done: [],
          todo: [
            {
              id: uuidv4(),
              titre: 'Lire un article Consommation - très facile',
              thematiques: [Thematique.consommation],
              progression: { current: 0, target: 1 },
              sont_points_en_poche: false,
              type: InteractionType.article,
              level: DifficultyLevel.L1,
              points: 20,
            },
            {
              id: uuidv4(),
              titre: 'Réussir 3 quiz Consommation - très facile',
              thematiques: [Thematique.consommation],
              progression: { current: 0, target: 3 },
              sont_points_en_poche: false,
              type: InteractionType.quizz,
              level: DifficultyLevel.L1,
              points: 20,
            },
            {
              id: uuidv4(),
              titre: 'Lire un article Déchets - très facile',
              thematiques: [Thematique.dechet],
              progression: { current: 0, target: 1 },
              sont_points_en_poche: false,
              type: InteractionType.article,
              level: DifficultyLevel.L1,
              points: 20,
            },
          ],
        },
      ],
    },
    //interactions: ALL_INTERACTIONS,
    suivis: [],
    bilans: [],
    badges: [],
    quizzLevels: minQuizzLevel,
    onboardingResult: ONBOARDING_RES_1234,
    onboardingData: ONBOARD_DATA_1234,
  },
  wojtek: {
    nom: 'WOJCIK',
    prenom: 'Wojtek',
    email: 'ww@w.com',
    mot_de_passe: 'haha',
    code_postal: '91120',
    commune: 'PALAISEAU',
    revenu_fiscal: null,
    parts: null,
    version: 2,
    gamification: {
      points: 0,
    },
    linky: {
      prm: '123',
      data: [
        {
          time: new Date('2022-01-01T12:00:00.000Z'),
          value: 9.767,
          value_at_normal_temperature: 16.76248414607786,
        },
        {
          time: new Date('2022-01-02T12:00:00.000Z'),
          value: 8.707,
          value_at_normal_temperature: 16.13546824358384,
        },
        {
          time: new Date('2022-01-03T12:00:00.000Z'),
          value: 9.832,
          value_at_normal_temperature: 15.08351058572261,
        },
        {
          time: new Date('2022-01-04T12:00:00.000Z'),
          value: 9.005,
          value_at_normal_temperature: 7.635004800232502,
        },
        {
          time: new Date('2022-01-05T12:00:00.000Z'),
          value: 14.235,
          value_at_normal_temperature: 11.35797682270926,
        },
        {
          time: new Date('2022-01-06T12:00:00.000Z'),
          value: 18.529,
          value_at_normal_temperature: 19.04437756287544,
        },
        {
          time: new Date('2022-01-07T12:00:00.000Z'),
          value: 17.043,
          value_at_normal_temperature: 17.7369074661584,
        },
        {
          time: new Date('2022-01-08T12:00:00.000Z'),
          value: 16.243,
          value_at_normal_temperature: 15.49480725587682,
        },
        {
          time: new Date('2022-01-09T12:00:00.000Z'),
          value: 13.36,
          value_at_normal_temperature: 11.6495416982143,
        },
        {
          time: new Date('2022-01-10T12:00:00.000Z'),
          value: 16.553,
          value_at_normal_temperature: 12.02395565710422,
        },
        {
          time: new Date('2022-01-11T12:00:00.000Z'),
          value: 19.641,
          value_at_normal_temperature: 15.49336874054367,
        },
        {
          time: new Date('2022-01-12T12:00:00.000Z'),
          value: 25.975,
          value_at_normal_temperature: 20.87843847942467,
        },
        {
          time: new Date('2022-01-13T12:00:00.000Z'),
          value: 19.127,
          value_at_normal_temperature: 14.75561898614973,
        },
        {
          time: new Date('2022-01-14T12:00:00.000Z'),
          value: 24.663,
          value_at_normal_temperature: 21.00995482739228,
        },
        {
          time: new Date('2022-01-15T12:00:00.000Z'),
          value: 25.159,
          value_at_normal_temperature: 21.57487352811278,
        },
      ],
    },
    suivis: [],
    bilans: [],
    badges: [],
    services: ['linky'],
    questionsNGC: {
      'transport . voiture . km': 30000,
    },
    quizzLevels: minQuizzLevel,
    onboardingResult: ONBOARDING_RES_1234,
    onboardingData: ONBOARD_DATA_1234,
  },
  recette_livio: {
    nom: 'RECETTEUR',
    prenom: 'Livio',
    email: 'recette_livio@agir.dev',
    mot_de_passe: 'haha',
    code_postal: '91120',
    commune: 'PALAISEAU',
    revenu_fiscal: 0,
    parts: null,
    version: 2,
    gamification: {
      points: 0,
    },
    suivis: [],
    services: [],
    quizzLevels: minQuizzLevel,
    onboardingResult: ONBOARDING_RES_1234,
    onboardingData: ONBOARD_DATA_1234,
  },
  recette_benoit: {
    nom: 'RECETTEUR',
    prenom: 'Benoit',
    email: 'recette_benoit@agir.dev',
    mot_de_passe: 'haha',
    code_postal: '91120',
    commune: 'PALAISEAU',
    revenu_fiscal: 0,
    parts: null,
    version: 2,
    gamification: {
      points: 0,
    },
    suivis: [],
    services: [],
    quizzLevels: minQuizzLevel,
    onboardingResult: ONBOARDING_RES_1234,
    onboardingData: ONBOARD_DATA_1234,
  },
  fruggr: {
    nom: 'D4B',
    prenom: 'fruggr',
    email: 'fruggr@agir.dev',
    mot_de_passe: 'gofruggr',
    code_postal: '75001',
    commune: 'PARIS',
    revenu_fiscal: 0,
    parts: null,
    version: 2,
    gamification: {
      points: 0,
    },
    suivis: [],
    services: [],
    quizzLevels: minQuizzLevel,
    onboardingResult: ONBOARDING_RES_1234,
    onboardingData: ONBOARD_DATA_1234,
  },
};

module.exports = utilisateurs;
